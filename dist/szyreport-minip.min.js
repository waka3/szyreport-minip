!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["szyreport-minip"]=e():t["szyreport-minip"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var a={};return e.m=t,e.c=a,e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,a){var n=a(1),r=null,o=function(t){var e=t||{};r||(r=e.data.platf?n.defaultParams(e.data.platf):n.defaultParams());var a=Object.assign({},r,e.data);l({prefix:e.prefix,data:a,sdo_bfn:"sdo_bfn_pv"})},c=function(t){var e=t||{};r||(r=e.data.platf?n.defaultParams(e.data.platf):n.defaultParams());var a=Object.assign({},r,e.data),o={prefix:e.prefix,data:a,sdo_bfn:"sdo_bfn_event"};e.callback&&(o.callback=e.callback),l(o)},s=function(t){var e=t||{};r||(r=e.data.platf?n.defaultParams(e.data.platf):n.defaultParams());var a=Object.assign({},r,e.data),o={prefix:e.prefix,data:a,sdo_bfn:"sdo_bfn_startup"};e.callback&&(o.callback=e.callback),l(o)},l=function(t){var e=t||{},a=n.getUrl(e.prefix,e.sdo_bfn);32===e.data.platf?my.request({method:"get",url:a.aliyunUrl,data:e.data,success:function(t){e.callback?e.callback("success"):console.log("success")},fail:function(){e.callback?e.callback("fail"):console.log("fail")}}):wx.request({method:"get",url:a.aliyunUrl,data:e.data,success:function(t){e.callback?e.callback("success"):console.log("success")},fail:function(){e.callback?e.callback("fail"):console.log("fail")}})};t.exports={reportPV:o,reportEvent:c,reportStartup:s}},function(t,e){var a=function(t){var e=32===t?my.getStorageSync("userDevId"):wx.getStorageSync("userDevId");return e||(e=n(),32===t?my.setStorageSync("userDevId",e):wx.setStorageSync("userDevId",e)),e},n=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?a:7&a|8).toString(16)})},r=function(t){var e=32===t?my.getSystemInfoSync():wx.getSystemInfoSync(),a=0,n=e.system;return n.indexOf("Android")>-1?a=1:n.indexOf("iOS")>-1?a=2:n.indexOf("Windows")>-1?a=3:n.indexOf("macOS")>-1&&(a=4),{os:a,osVer:n,mtype:e.model}},o=function(t){var e=a(t),n=r(t);return{platf:31,dev_id:e,imei:"",mac:"",adid:"",mtype:n.mtype,app_ver:"",app_gid:"",login_status:"0",role:"",user_id:"",baby_id:"",student_id:"",school_id:"",adcode:"",pay_state:"",logtime:"",net:"",coordinate:"",ip:"",country:"",province:"",city:"",county:"",os:n.os,os_ver:n.osVer}},c=function(t,e){var a="";switch(t){case"alpha":a="https://ztjy-test.cn-hangzhou.log.aliyuncs.com/logstores/"+e+"/track?APIVersion=0.6.0";break;default:a="https://ztjy.cn-hangzhou.log.aliyuncs.com/logstores/"+e+"/track?APIVersion=0.6.0"}return{aliyunUrl:a}};t.exports={getUrl:c,defaultParams:o}}])});