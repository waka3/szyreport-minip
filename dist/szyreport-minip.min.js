!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["szyreport-minip"]=t():e["szyreport-minip"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,a){var n=a(1),o=null,r=function(e){var t=e||{};o||(o=t.data.platf?n.defaultParams(t.data.platf):n.defaultParams());var a=Object.assign(o,t.data);s({prefix:t.prefix,data:a,sdo_bfn:"sdo_bfn_pv"})},c=function(e){var t=e||{};o||(o=t.data.platf?n.defaultParams(t.data.platf):n.defaultParams());var a=Object.assign(o,t.data),r={prefix:t.prefix,data:a,sdo_bfn:"sdo_bfn_event"};t.callback&&(r.callback=t.callback),s(r)},s=function(e){var t=e||{},a=n.getUrl(t.prefix,t.sdo_bfn);32===t.data.platf?my.request({method:"get",url:a.aliyunUrl,data:t.data,success:function(e){t.callback?t.callback("success"):console.log("success")},fail:function(){t.callback?t.callback("fail"):console.log("fail")}}):wx.request({method:"get",url:a.aliyunUrl,data:t.data,success:function(e){t.callback?t.callback("success"):console.log("success")},fail:function(){t.callback?t.callback("fail"):console.log("fail")}})};e.exports={reportPV:r,reportEvent:c}},function(e,t){var a=function(e){var t=32===e?my.getStorageSync("userDevId"):wx.getStorageSync("userDevId");return t||(t=n(),32===e?my.setStorageSync("userDevId",t):wx.setStorageSync("userDevId",t)),t},n=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:7&a|8).toString(16)})},o=function(e){var t=32===e?my.getSystemInfoSync():wx.getSystemInfoSync(),a=0,n=t.system;return n.indexOf("Android")>-1?a=1:n.indexOf("iOS")>-1?a=2:n.indexOf("Windows")>-1?a=3:n.indexOf("macOS")>-1&&(a=4),{os:a,osVer:n,mtype:t.model}},r=function(e){var t=a(e),n=o(e);return{platf:31,dev_id:t,imei:"",mac:"",adid:"",mtype:n.mtype,app_ver:"",app_gid:"",login_status:"0",role:"",user_id:"",baby_id:"",student_id:"",school_id:"",adcode:"",pay_state:"",logtime:"",net:"",coordinate:"",ip:"",country:"",province:"",city:"",county:"",os:n.os,os_ver:n.osVer}},c=function(e,t){var a="";switch(e){case"alpha":a="https://ztjy-test.cn-hangzhou.log.aliyuncs.com/logstores/"+t+"/track?APIVersion=0.6.0";break;default:a="https://ztjy.cn-hangzhou.log.aliyuncs.com/logstores/"+t+"/track?APIVersion=0.6.0"}return{aliyunUrl:a}};e.exports={getUrl:c,defaultParams:r}}])});